[service-links]
= Связи между сервисами

[graphviz, microservices-flows, svg]
----
digraph microservices {
    rankdir=LR;
    node [shape = record];

    "reverse"           [label="<h>Reverse | <pin> /pin\l | <reg-mc> /mccredentials\l | <credentials> /credentials\l | <bgg> /bgg\l"];

    subgraph cluster_microservices {
         label = "Контур микросервисов";
         color = gray;
         style = dashed;
        "cod-gateway"       [label="<h>cod-gateway | <cod> OAuth /CashOnDelivery/v1/offers/**\l | <cod-bo> OAuth /CashOnDelivery/v1/bo/**\l | <e-shop> OAuth /e-shop/v1/applications/**\l | <pin> OAuth /pin/v1/**\l | <captcha> OAuth /Captcha/v1/**\l | <reg-mc> OAuth /mccredentials/v1/**\l | <credentials> /credentials/**\l | <cod-private> /CashOnDeliveryPrivate/offer/**\l | <bgg> /bgg/v1/**\l"];
    }

    "esb";

    mycredit -> reverse:"reg-mc";
    ibs -> reverse:pin;
    site -> reverse:pin;
    anyone -> reverse:credentials;
    anyone -> reverse:bgg;
    reverse:pin -> "cod-gateway":pin;
    reverse:credentials -> "cod-gateway":credentials;
    reverse:"reg-mc" -> "cod-gateway":"reg-mc";
    reverse:bgg -> "cod-gateway":bgg;

}
----